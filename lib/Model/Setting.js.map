{"version":3,"sources":["../../src/Model/Setting.js"],"names":["Setting","constructor","params","search","port","web","ssl","enable","key","cert","Object","assign","getHttp","getWebParams","fs","readFileSync","isSslReady","existsSync"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,OAAN,CAAc;AACVC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,SAAKC,MAAL,GAAc;AACVC,MAAAA,IAAI,EAAE;AADI,KAAd;AAGA,SAAKC,GAAL,GAAW;AACPC,MAAAA,GAAG,EAAE;AACDC,QAAAA,MAAM,EAAE,KADP;AAEDC,QAAAA,GAAG,EAAE,EAFJ;AAGDC,QAAAA,IAAI,EAAE;AAHL;AADE,KAAX;AAOAC,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBT,MAApB;AACH;;AAEDU,EAAAA,OAAO,GAAG;AACN,QAAI,KAAKP,GAAL,CAASC,GAAT,CAAaC,MAAjB,EAAyB;AACrB,aAAO,OAAP;AACH;;AACD,WAAO,MAAP;AACH;;AAEDM,EAAAA,YAAY,GAAG;AACX,QAAI,KAAKR,GAAL,CAASC,GAAT,CAAaC,MAAjB,EAAyB;AACrB,aAAO;AACHC,QAAAA,GAAG,EAAEM,YAAGC,YAAH,CAAgB,KAAKV,GAAL,CAASC,GAAT,CAAaE,GAA7B,CADF;AAEHC,QAAAA,IAAI,EAAEK,YAAGC,YAAH,CAAgB,KAAKV,GAAL,CAASC,GAAT,CAAaG,IAA7B;AAFH,OAAP;AAIH;;AACD,WAAO,EAAP;AACH;;AAEDO,EAAAA,UAAU,GAAG;AACT,QAAI,KAAKX,GAAL,CAASC,GAAT,CAAaC,MAAjB,EAAyB;AACrB,UAAI,CAACO,YAAGG,UAAH,CAAc,KAAKZ,GAAL,CAASC,GAAT,CAAaE,GAA3B,CAAL,EAAsC;AAClC,0CAA2B,KAAKH,GAAL,CAASC,GAAT,CAAaE,GAAxC;AACH;;AACD,UAAI,CAACM,YAAGG,UAAH,CAAc,KAAKZ,GAAL,CAASC,GAAT,CAAaG,IAA3B,CAAL,EAAuC;AACnC,2CAA4B,KAAKJ,GAAL,CAASC,GAAT,CAAaG,IAAzC;AACH;AACJ;AACJ;;AAzCS;;eA4CCT,O","sourcesContent":["import fs from \"fs\";\n\nclass Setting {\n    constructor(params) {\n        this.search = {\n            port: 4444\n        };\n        this.web = {\n            ssl: {\n                enable: false,\n                key: \"\",\n                cert: \"\"\n            }\n        };\n        Object.assign(this, params);\n    }\n\n    getHttp() {\n        if (this.web.ssl.enable) {\n            return \"https\";\n        }\n        return \"http\";\n    }\n\n    getWebParams() {\n        if (this.web.ssl.enable) {\n            return {\n                key: fs.readFileSync(this.web.ssl.key),\n                cert: fs.readFileSync(this.web.ssl.cert)\n            };\n        }\n        return {};\n    }\n\n    isSslReady() {\n        if (this.web.ssl.enable) {\n            if (!fs.existsSync(this.web.ssl.key)) {\n                throw `Missing key file: ${this.web.ssl.key}`;\n            }\n            if (!fs.existsSync(this.web.ssl.cert)) {\n                throw `Missing cert file: ${this.web.ssl.cert}`;\n            }\n        }\n    }\n}\n\nexport default Setting;"],"file":"Setting.js"}