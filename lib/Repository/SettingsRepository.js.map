{"version":3,"sources":["../../src/Repository/SettingsRepository.js"],"names":["SettingsRepository","constructor","args","file","path","join","output","filename","getSetting","settings","Setting","JSON","parse","fs","readFileSync","toString","doesFolderExist","existsSync"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;;;AAEA,MAAMA,kBAAN,CAAyB;AAErB;;;;AAIAC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,SAAKA,IAAL,GAAYA,IAAZ;AAEA;;;;;AAIA,SAAKC,IAAL,GAAYC,cAAKC,IAAL,CAAU,KAAKH,IAAL,CAAUI,MAAV,CAAiBC,QAA3B,EAAqC,UAArC,EAAiD,gBAAjD,CAAZ;AACH;AAED;;;;;;AAIAC,EAAAA,UAAU,GAAG;AACT,QAAI,CAAC,KAAKC,QAAV,EAAoB;AAChB,WAAKA,QAAL,GAAgB,IAAIC,gBAAJ,CAAYC,IAAI,CAACC,KAAL,CAAWC,YAAGC,YAAH,CAAgB,KAAKX,IAArB,EAA2BY,QAA3B,EAAX,CAAZ,CAAhB;AACH;;AACD,WAAO,KAAKN,QAAZ;AACH;AAED;;;;;;AAIAO,EAAAA,eAAe,GAAG;AACd,QAAI,CAACH,YAAGI,UAAH,CAAc,KAAKd,IAAnB,CAAL,EAA+B;AAC3B,YAAM,6BAA6B,KAAKA,IAAxC;AACH;AACJ;;AAnCoB;;eAuCVH,kB","sourcesContent":["import Args from \"../Model/Args.js\";\nimport Setting from \"../Model/Setting.js\";\n\nimport path from \"path\";\nimport fs from \"fs\";\n\nclass SettingsRepository {\n\n    /**\n     * Create the settings repository.\n     * @param args {Args}\n     */\n    constructor(args) {\n        this.args = args;\n\n        /**\n         * Path to the settings file.\n         * @type {string}\n         */\n        this.file = path.join(this.args.output.filename, 'settings', 'conductor.json');\n    }\n\n    /**\n     * Get the setting from file or load defaults or load from memory.\n     * @returns {Setting}\n     */\n    getSetting() {\n        if (!this.settings) {\n            this.settings = new Setting(JSON.parse(fs.readFileSync(this.file).toString()));\n        }\n        return this.settings;\n    }\n\n    /**\n     * If the file does not exist, throw an exception.\n     * @throws file not found exception.\n     */\n    doesFolderExist() {\n        if (!fs.existsSync(this.file)) {\n            throw 'Settings file not found:' + this.file;\n        }\n    }\n\n}\n\nexport default SettingsRepository;"],"file":"SettingsRepository.js"}